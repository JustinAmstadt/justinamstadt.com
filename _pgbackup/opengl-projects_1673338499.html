<!DOCTYPE HTML> 
<!--
	Arcana by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
--> 
<html> 
    <head> 
        <title>No Sidebar - Arcana by HTML5 UP</title>         
        <meta charset="utf-8"/> 
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/> 
        <link rel="stylesheet" href="assets/css/main.css"/> 
    </head>     
    <body class="is-preload"> 
        <div id="page-wrapper"> 
            <!-- Header -->             
            <div id="header"> 
                <!-- Logo -->                 
                <h1><a href="index.html" id="logo">Justin Amstadt</a></h1> 
                <!-- Nav -->                 
                <nav id="nav"> 
                    <ul> 
                        <li>
                            <a href="">Home</a>
                        </li>                         
                        <li class="current"> <a href="opengl-projects.html">OpenGL Projects</a> 
                        </li>                         
                        <li>
                            <a href="japanese-tutoring.html">Japanese Tutoring</a>
                        </li>                         
                        <li>
                            <a href="blog.html">Blog</a>
                        </li>                         
                        <li>
                            <a href="programming-projects.html">Programming Projects</a>
                        </li>                         
                        <li>
                            <a href="resume.html">Resume</a>
                        </li>                         
                    </ul>                     
                </nav>                 
            </div>             
            <!-- Main -->             
            <section class="wrapper style1"> 
                <div class="container"> 
                    <div id="content"> 
                        <!-- Content -->                         
                        <article> 
                            <header> 
                                <h2 class="text-center">OpenGL Projects</h2> 
                            </header>                             
                            <div class="grid"> 
                                <iframe src="https://www.youtube.com/embed/OusLwzf3jCE" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                                <p>
                                    This is an ocean generated by creating a plane of the same texture. Once created, the vertices get passed into the vertex shader and go into a function consisting of compounding sine waves. This generates the ocean effect. Next, the fog is created in the fragment shader by taking the distance from the camera and using a linear function to calculate how much grey value each pixel should take on. </p>
                                <button type="button" class="collapsible">GLSL Vertex and Fragment Shader Code</button>                                 
                                <div class="content">
                                    <p> 
                                            Vertex Shader:
                                            #version 410 core
layout (location = 0) in vec3 aPos;
layout (location = 1) in vec4 aColor;
layout (location = 2) in vec2 aTexCoord;
layout (location = 3) in vec3 aNormal;
out vec2 TexCoord;
out vec3 FragPos;
uniform mat4 model;
uniform mat4 view;
uniform mat4 projection;
#define SCALE 10.0
uniform float time;
float calculateSurface(float x, float z) {
    float y = 0.0;
    y += (sin(x * 1.0 / SCALE + time * 1.0) + sin(x * 2.3 / SCALE + time * 1.5) + sin(x * 3.3 / SCALE + time * 0.4)) / 3.0;
    y += (sin(z * 0.2 / SCALE + time * 1.8) + sin(z * 1.8 / SCALE + time * 1.8) + sin(z * 2.8 / SCALE + time * 0.8)) / 3.0;
    return y;
}
void main() 
{
    TexCoord = aTexCoord;
    vec3 pos = aPos;
    float strength = 1.0;
    pos.y += strength * calculateSurface(pos.x, pos.z);
    pos.y -= strength * calculateSurface(0.0, 0.0);
    FragPos = vec3(view * model * vec4(pos, 1.0));
    gl_Position = projection * view * model * vec4(pos, 1.0);
}   <br>
                                            Fragment Shader:
                                            #version 410 core
struct FogInfo{
	float maxDist;
	float minDist;
	vec3 color;
};
in vec2 TexCoord;
in vec3 FragPos;
out vec4 FragColor;
uniform sampler2D text;
void main()
{
	FogInfo f;
	f.maxDist = 50.0;
	f.minDist = 2.0;
	f.color = vec3(0.4, 0.4, 0.4);
	float dist = abs(FragPos.z);
	float fogFactor = (f.maxDist - dist) / (f.maxDist - f.minDist);
	fogFactor = clamp(fogFactor, 0.0, 1.0);
	vec4 outputColor;
	if(texture(text, TexCoord) != vec4(0.0)){
		outputColor = mix(vec4(f.color, 1.0), texture(text, TexCoord), fogFactor);
	}
	else{
		outputColor = vec4(0.8, 0.8, 0.8, 1.0);
	}
	FragColor = outputColor;
} </p>
                                </div>                                 
                                <iframe width="100%" height="100%" src="https://www.youtube.com/embed/LnUwTiqwNiw" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>                                 
                                <p>
                                    This is a parabola generated in a circular pattern. The cubes are spawning over a random vertex, hitting it, then disappearing when it hits the center. Finally the cube resets at another random vertex. </p>
                                <button type="button" class="collapsible">C++ Code</button>                                 
                                <div class="content">
                                    <p> 
void CircularParabola::createLineFunc(std::shared_ptr&#60Shader&#62 shaderProgram)
&#123
	std::vector&#60GLuint&#62 indices;
	std::vector&#60glm::vec4&#62 graphColor;
	glm::mat4 model = glm::mat4(1.0f);
	for (float i = 0; i &#60 360.0f; i += 360 / numLines) &#123
		model = glm::rotate(model, glm::radians(360.0f / numLines), glm::vec3(0.0f, 1.0f, 0.0f));
		for (float j = 0.0; j &#60 numPoints / 10.0; j += 0.1) &#123
			glm::vec4 vec = model * glm::vec4(j, lineFuncFormula(j), 0, 0); //update bottom function too
			verts.push_back(glm::vec3(vec[0], vec[1], vec[2]));
			graphColor.push_back(glm::vec4(0.0f, 0.0f, i * 2 / 100, 0.5f));
		&#125
	&#125
	//all faces except the last one
	for (int i = 0; i &#60 verts.size() - (verts.size() / numLines); i += verts.size() / numLines) &#123
		indices.push_back(numPoints + 1 + i);
		indices.push_back(1 + i);
		indices.push_back(i);
		for (int j = 0; j &#60 numPoints - 2; j++) &#123
			indices.push_back(numPoints + 1 + j + i);
			indices.push_back(2 + j + i);
			indices.push_back(1 + j + i);
			indices.push_back(numPoints + 2 + j + i);
			indices.push_back(2 + j + i);
			indices.push_back(numPoints + 1 + j + i);
		&#125
	&#125
	//last face
	int lastFaceStart = verts.size() - (verts.size() / numLines);
	indices.push_back(1);
	indices.push_back(1 + lastFaceStart);
	indices.push_back(0);
	for (int i = 0; i &#60 numPoints - 2; i++) &#123
		indices.push_back(1 + i);
		indices.push_back(lastFaceStart + 2 + i);
		indices.push_back(lastFaceStart + 1 + i);
		indices.push_back(2 + i);
		indices.push_back(lastFaceStart + 2 + i);
		indices.push_back(1 + i);
	&#125
	std::shared_ptr&#60GeometricObject&#62 line = std::make_shared&#60GeometricObject&#62(verts);
	line-&#62setColor(glm::vec4(0.0f, 0.0f, 0.8f, 0.8f));
	line-&#62indices = indices;
	std::shared_ptr&#60SceneObject&#62 list = std::make_shared&#60SceneObject&#62();
	*list = &#123 line, Scene::createVAO(line-&#62vertexData, line-&#62indices), model, shaderProgram, GL_TRIANGLES &#125;
	graphLines.push_back(list);
&#125
float CircularParabola::lineFuncFormula(float val)
&#123
	return 0.01f * val * val;
&#125
glm::mat4 CircularParabola::resetCubePosition(std::shared_ptr&#60GeometricObject&#62 cube)
&#123
	glm::mat4 model(1.0f);
	int randomVertIndex = 0;
	int adjVertIndex;
	while (randomVertIndex % numPoints == 0) &#123
		randomVertIndex = rand() % verts.size();
	&#125
	adjVertIndex = randomVertIndex + numPoints;
	if (adjVertIndex &#62 verts.size()) &#123
		adjVertIndex = randomVertIndex - (randomVertIndex / numPoints) * numPoints;
	&#125
	glm::vec3 center = verts[randomVertIndex] - glm::vec3(0.5f) * (verts[randomVertIndex] - verts[adjVertIndex]);
	model = glm::mat4(1.0f);
	model = glm::translate(model, center + glm::vec3(0.0f, 5.0f, 0.0f));
	model = glm::scale(model, glm::vec3(1.0f));
	cube-&#62tragectory-&#62addTarget(center, center + glm::vec3(0.0f, 5.0f, 0.0f));
	cube-&#62tragectory-&#62addTarget(glm::vec3(0.0f, 1.0f, 0.0f), center);
	return model;
&#125
void CircularParabola::createFallingCubes(std::shared_ptr&#60Shader&#62 shaderProgram)
&#123
	Material material&#123 glm::vec3(1.0f, 0.5f, 0.31f), glm::vec3(1.0f, 0.5f, .031f), glm::vec3(0.5f, 0.5f, 0.5f), 32.0f &#125;
	std::shared_ptr&#60SceneObject&#62 list;
	glm::mat4 model(1.0f);
	std::shared_ptr&#60GeometricObject&#62 cube = std::make_shared&#60Cube&#62(glm::vec4(1.0f, 1.0f, 1.0f, 1.0f), material);
	GLuint VAO = Scene::createVAO(cube-&#62vertexData);
	for (int i = 0; i &#60 10; i++) &#123
		list.reset(new SceneObject());
		cube.reset(new Cube(glm::vec4(1.0f, 1.0f, 1.0f, 1.0f), material));
		model = resetCubePosition(cube);
		*list = &#123 cube, VAO, model, shaderProgram, GL_TRIANGLES &#125;
		fallingCubes.push_back(list);
	&#125
&#125
void CircularParabola::updateFallingCubes()
&#123
	for (int i = 0; i &#60 fallingCubes.size(); i++) &#123
		fallingCubes[i]-&#62model = fallingCubes[i]-&#62object-&#62tragectory-&#62update() * fallingCubes[i]-&#62model;
		fallingCubes[i]-&#62model = glm::rotate(fallingCubes[i]-&#62model, glm::radians(1.0f), glm::vec3(0.4f, 0.3f, 0.6f));
		if (fallingCubes[i]-&#62object-&#62tragectory-&#62targetQueue.size() == 0) &#123
			fallingCubes[i]-&#62model = resetCubePosition(fallingCubes[i]-&#62object);
		&#125
	&#125
&#125</p> 
                                </div>                                 
                                <iframe width="100%" height="100%" src="https://www.youtube.com/embed/AeiNBV6iUXs" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>                                 
                                <p>
                                    This is a cube with a wooden crate with a metal frame texture using a green emission texture. There is a specular map used to causes specular reflection with the metal, but not the wooden part of the texture.   </p>
                                <button type="button" class="collapsible">GLSL Fragment Shader Code</button>
                                <div class="content">
                                    <p>
#version 410 core
struct Material {
    sampler2D diffuse;
    sampler2D specular;
    float shininess;
}; 
struct Light {
    vec3 position;
    vec3 ambient;
    vec3 diffuse;
    vec3 specular;
};
out vec4 FragColor;
in vec4 vertexColor;
in vec2 TexCoord;
in vec3 Normal;
in vec3 FragPos;
uniform sampler2D emissionMap;
uniform vec3 viewPos;
uniform Material material;
uniform Light light;
void main()
{
    vec3 ambient = light.ambient * vec3(texture(material.diffuse, TexCoord)); 
    vec3 unitNorm = normalize(Normal);
    vec3 lightDir = normalize(light.position - FragPos);
    float diffuseFactor = max(dot(unitNorm, lightDir), 0.0);
    vec3 diffuse = light.diffuse * diffuseFactor * vec3(texture(material.diffuse, TexCoord));
    float specularStrength = 0.5;
    vec3 viewDir = normalize(viewPos - FragPos);
    vec3 reflectDir = reflect(-lightDir, unitNorm);  
    float specFactor = pow(max(dot(viewDir, reflectDir), 0.0), material.shininess);
    vec3 specular = light.specular * specFactor * vec3(texture(material.specular, TexCoord));
    vec3 emission;
    if(vec3(texture(material.specular, TexCoord)) == vec3(0.0)){
        emission = texture(emissionMap, TexCoord).rgb;
    }
    else{
    emission = vec3(0.0);
    }
    FragColor = vec4(ambient + diffuse + specular + emission, 1.0) * vertexColor;
} </p>
                                </div>                                 
                                <iframe width="900" height="500" src="https://www.youtube.com/embed/MWC31-WwfGs" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>                                 
                                <p align="left">
                                    Whenever the spectral value of any pixel is greater than 0, remove the emission texture </p> 
                                <button type="button" class="collapsible">GLSL Fragment Shader Code</button>                                 
                                <div class="content">
                                    <p>
#version 410 core
struct Material {
    sampler2D diffuse;
    sampler2D specular;
    float shininess;
}; 
struct Light {
    vec3 position;
    vec3 ambient;
    vec3 diffuse;
    vec3 specular;
};
out vec4 FragColor;
in vec4 vertexColor;
in vec2 TexCoord;
in vec3 Normal;
in vec3 FragPos;
uniform sampler2D emissionMap;
uniform vec3 viewPos;
uniform Material material;
uniform Light light;
void main()
{
    vec3 ambient = light.ambient * vec3(texture(material.diffuse, TexCoord)); 
    vec3 unitNorm = normalize(Normal);
    vec3 lightDir = normalize(light.position - FragPos);
    float diffuseFactor = max(dot(unitNorm, lightDir), 0.0);
    vec3 diffuse = light.diffuse * diffuseFactor * vec3(texture(material.diffuse, TexCoord));
    float specularStrength = 0.5;
    vec3 viewDir = normalize(viewPos - FragPos);
    vec3 reflectDir = reflect(-lightDir, unitNorm);  
    float specFactor = pow(max(dot(viewDir, reflectDir), 0.0), material.shininess);
    vec3 specular = light.specular * specFactor * vec3(texture(material.specular, TexCoord));
    vec3 emission;
    if(specular == vec3(0.0)){
        emission = texture(emissionMap, TexCoord).rgb;
    }
    else{
    emission = vec3(0.0);
    }
    FragColor = vec4(ambient + diffuse + specular + emission, 1.0) * vertexColor;
} </p>
                                </div>                                 
                            </div>                             
                        </article>                         
                    </div>                     
                </div>                 
            </section>             
            <!-- Footer -->             
            <div id="footer"> 
                <div class="container"> 
                    <div class="row"> 
                        <section class="col-3 col-6-narrower col-12-mobilep"> 
                            <h3>Links to Stuff</h3> 
                            <ul class="links"> 
                                <li><a href="#">Mattis et quis rutrum</a>
                                </li>                                 
                                <li><a href="#">Suspendisse amet varius</a>
                                </li>                                 
                                <li><a href="#">Sed et dapibus quis</a>
                                </li>                                 
                                <li><a href="#">Rutrum accumsan dolor</a>
                                </li>                                 
                                <li><a href="#">Mattis rutrum accumsan</a>
                                </li>                                 
                                <li><a href="#">Suspendisse varius nibh</a>
                                </li>                                 
                                <li><a href="#">Sed et dapibus mattis</a>
                                </li>                                 
                            </ul>                             
                        </section>                         
                        <section class="col-3 col-6-narrower col-12-mobilep"> 
                            <h3>More Links to Stuff</h3> 
                            <ul class="links"> 
                                <li><a href="#">Duis neque nisi dapibus</a>
                                </li>                                 
                                <li><a href="#">Sed et dapibus quis</a>
                                </li>                                 
                                <li><a href="#">Rutrum accumsan sed</a>
                                </li>                                 
                                <li><a href="#">Mattis et sed accumsan</a>
                                </li>                                 
                                <li><a href="#">Duis neque nisi sed</a>
                                </li>                                 
                                <li><a href="#">Sed et dapibus quis</a>
                                </li>                                 
                                <li><a href="#">Rutrum amet varius</a>
                                </li>                                 
                            </ul>                             
                        </section>                         
                        <section class="col-6 col-12-narrower"> 
                            <h3>Get In Touch</h3> 
                            <form> 
                                <div class="row gtr-50"> 
                                    <div class="col-6 col-12-mobilep"> 
                                        <input type="text" name="name" id="name" placeholder="Name"/> 
                                    </div>                                     
                                    <div class="col-6 col-12-mobilep"> 
                                        <input type="email" name="email" id="email" placeholder="Email"/> 
                                    </div>                                     
                                    <div class="col-12"> 
                                        <textarea name="message" id="message" placeholder="Message" rows="5"></textarea> 
                                    </div>                                     
                                    <div class="col-12"> 
                                        <ul class="actions"> 
                                            <li>
                                                <input type="submit" class="button alt" value="Send Message"/>
                                            </li>                                             
                                        </ul>                                         
                                    </div>                                     
                                </div>                                 
                            </form>                             
                        </section>                         
                    </div>                     
                </div>                 
                <!-- Icons -->                 
                <ul class="icons"> 
                    <li><a href="#" class="icon brands fa-twitter"><span class="label">Twitter</span></a>
                    </li>                     
                    <li><a href="#" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a>
                    </li>                     
                    <li><a href="#" class="icon brands fa-github"><span class="label">GitHub</span></a>
                    </li>                     
                    <li><a href="#" class="icon brands fa-linkedin-in"><span class="label">LinkedIn</span></a>
                    </li>                     
                    <li><a href="#" class="icon brands fa-google-plus-g"><span class="label">Google+</span></a>
                    </li>                     
                </ul>                 
                <!-- Copyright -->                 
                <div class="copyright"> 
                    <ul class="menu"> 
                        <li>&copy; Untitled. All rights reserved</li>
                        <li>Design: <a href="http://html5up.net">HTML5 UP</a>
                        </li>                         
                    </ul>                     
                </div>                 
            </div>             
        </div>         
    </body>
</html>
<!-- Scripts --> 
<script src="assets/js/jquery.min.js"></script> 
<script src="assets/js/jquery.dropotron.min.js"></script> 
<script src="assets/js/browser.min.js"></script> 
<script src="assets/js/breakpoints.min.js"></script> 
<script src="assets/js/util.js"></script> 
<script src="assets/js/main.js"></script>
<script src="assets/js/collapsible.js"></script>
